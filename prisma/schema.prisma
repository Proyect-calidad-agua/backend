generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Medicion {
  id          Int      @id @default(autoincrement())
  temperatura Float
  turbidez    Float
  tds         Float
  estado      String   @default("normal") // normal, alerta, critico
  origen      String   @default("esp32_1")
  fecha       DateTime @default(now())

  @@map("mediciones")
}

model Alerta {
  id       Int      @id @default(autoincrement())
  tipo     String   // temperatura, turbidez, tds
  valor    Float
  nivel    String   // advertencia, critico
  fecha    DateTime @default(now())
  atendida Boolean  @default(false)

  @@map("alertas")
}
